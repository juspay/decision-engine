def priorities = ['GatewayA','GatewayB','GatewayC','GatewayD','GatewayE']\ndef systemtimemills = System.currentTimeMillis() % 100\ndef enforceFlag = false\n\nif ((payment.paymentMethodType)=='X'  && (txn.sourceObject)=='Y') {\npriorities = ['GatewayA']\nenforceFlag = true\n}\n\nelse\n{\nif (['UPI'].contains(payment.paymentMethodType))\n{\nif (order.udf1=="LOB1"\n{\nif (payment.paymentSource?.indexOf("@vpahandle1") >= 0 || payment.paymentSource?.indexOf("@vpahandle2") >= 0)\n{\npriorities = ['GatewayB','GatewayC']\n}\nelse if (systemtimemills < 50)\n{\npriorities = ['GatewayD','GatewayE']\n}\nelse\n{\npriorities = ['GatewayE','GatewayD']\n}\n}\n}\n}
